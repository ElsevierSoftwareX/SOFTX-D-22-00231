

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Cross-validation and plotting &mdash; direpack 1.0.10 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing" href="Contributing.html" />
    <link rel="prev" title="Pre-processing" href="Pre-processing.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> direpack
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ppdire.html">ppdire</a></li>
<li class="toctree-l1"><a class="reference internal" href="sudire.html">sudire</a></li>
<li class="toctree-l1"><a class="reference internal" href="sprm.html">sprm</a></li>
<li class="toctree-l1"><a class="reference internal" href="Pre-processing.html">Pre-processing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Cross-validation and plotting</a></li>
</ul>
<p class="caption"><span class="caption-text">Other information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Contributing.html">Contributing</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">direpack</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Cross-validation and plotting</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/Cross-validation and plotting.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cross-validation-and-plotting">
<span id="id1"></span><h1>Cross-validation and plotting<a class="headerlink" href="#cross-validation-and-plotting" title="Permalink to this headline">¶</a></h1>
<p>Each of the sudire, ppdire and sprm subpackages in direpackare wrappers around a broad class of dimension reduction methods.
Each of these methods will have at least one tune-able  hyperparameter;  some  have  many  more. The  user  will  want  to  be  able  to  find  the optimal hyperparameters for the data at hand, which can be done through cross-validation or bayesian optimization.
It is not the aim of direpack to provide its own hyperparameter tuning algorithms,  as ample cross-validation utilities are available in scikit-learn’s model selection subpackage and the direpack estimations have been written consistently with the scikit-learn API,
such that these model selection tools from scikit-learn can directly be applied to them. However, some caution should be taken when training the robust methods.  While all classical (non-robust) methods could just use scikit-learn’s default settings, when tuning a robust model,
outliers  are  expected  to  be  in  the  data,  such  that  it  becomes  preferable  to  apply a robust  cross-validation  metric  as  well. Thereunto,  it  is  possible  to  use scikit-learn’s median_absolute_error, which is an MAE (L1) scorer that is less affected by extreme values than the default mean_squared_error.
However, particularly in the case of robust M estimators, a more model consistent approach can be pursued.  The robust M estimators provide a set of case weights,  and these can be used to construct a weighted evaluation metric for cross-validation.  Exactly this is provided in the robust_loss function that is a part of the direpack cross-validation utilities.</p>
<p>Similar to hyperparameter tuning, direpack’s mission is not to deliver a broad set of plotting utilities, but rather focus on the dimension reduction statistics. However, some plots many users would like to have in this context, are provided for each of the methods. These are :</p>
<ul class="simple">
<li><p>Projection plots. These plots visualize the scores <img class="math" src="_images/math/695513ca5d4505cb7efbf12f5f7270bde3c2bcd1.png" alt="\mathbf{t}_i"/> and a distinction can be made in the plots between cases that the model had been trained with, and test set cases.</p></li>
<li><p>Parity plots. For the regularized regressions based on the estimated scores, these visualize the predicted versus actual responses, with the same distinction as for the scores.</p></li>
</ul>
<p>For the special case of SPRM, the plots have enhanced functionality. Since SPRM provides case weights, which can also be calculated for new cases, the SPRM plots can flag outliers. In the sprm_plot function, this is set up with two cut-offs, based on the caseweight values,and visualized asregular  cases,moderate  outliersorharsh  outliers.
For SPRM, there is anoption as well to visualize the case weights themselves.</p>
<p>Examples of direpack’s plotting functionalities are available in the example notebooks of <a class="reference external" href="https://github.com/SvenSerneels/direpack/blob/master/examples/ppdire_example.ipynb">ppdire</a>,  <a class="reference external" href="https://github.com/SvenSerneels/direpack/blob/master/examples/sprm_example.ipynb">sprm</a> and <a class="reference external" href="https://github.com/SvenSerneels/direpack/blob/master/examples/sudire_example.ipynb">sudire</a> .</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="Contributing.html" class="btn btn-neutral float-right" title="Contributing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="Pre-processing.html" class="btn btn-neutral float-left" title="Pre-processing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Sven Serneels and Emmanuel Jordy Menvouta.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>